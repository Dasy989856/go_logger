# GoLogger

## Процесс логирования имеет несколько уровней:
- DEBUG - фиксируются события с уровнями: DEBUG, INFO, WARNING, ERROR, CRITICAL;
- INFO - фиксируются события с уровнями: INFO, WARNING, ERROR, CRITICAL;
- WARNING - фиксируются события с уровнями: WARNING, ERROR, CRITICAL;
- ERROR - фиксируются события с уровнями: ERROR и CRITICAL;
- CRITICAL - фиксируются события с уровнем CRITICAL.

## Настройка уровня логирования:
- В файле конфигурации /confings/config.yml поле `logger.level: debug`
- Параметр выставляется в соответствии с необходимым уровнем логирования: debug, info, warning, error, critical.

## Описание уровней сообщений о событиях, попадающих в лог файлы:
- DEBUG - подробное и детальное логирование всей системной информации для последующего использования в отладке;
- INFO - подтверждение, информация о событиях, не приводящих к ошибкам в работе модулей;
- WARNING - информация о событиях, которые могут привести к ошибкам в работе модулей;
- ERROR - информация об ошибках, возникших в работе модулей;
- CRITICAL - информация о критических ошибках, возникших в работе модулей.

## Примеры использования go_logger:
### EXEMPALE 1 (Пробрасование логера для дальшейшего вывода трассировки логирования):
- **Создание логера на корневом уровне (handler):** `logger := logger.logger.NewLogger(UserID, "NameService")`
```
UserID - Индификатор пользователя тип (int) если требуется фиксировать кто вызвал данный обработчик.
NameService - Имя сервиса например Back-logger
```

- **Инициализируем родительское событие (Backgraund EventStruct):** `bEventStruct := logger.InitBackgroundEventStruct("NamePackage", "NameFunction")`
```
NamePackage - имя пакета.
NameFunction - имя функции.
```

- **Создаем события нужного типа от родительского:** `EventStruct:= bEventStruct.Error(logger.Code, params1, params2)`
```
logger.Code - логер содержит коды (либо дает возможность дать код определеному событию. Каждый код события соответсвует текстовому сообщению.
params - это параметры для сообщения события. Пример: Ошибка подключения к БД %v. - params1 подставиться вместо %v.
```

- **(Опционально) Добавление оригинальной ошибки и http статуса:** `EventStruct.AddError(err, http.Status)`
```
err - оригинальная ошибка.
http.Status - это статус который будет установлен в ответе на http запрос REST API.
```

- **(Опционально) Добавление контекста события:** `EventStruct.AddContext(map[string]interface{}{"url": url, "password": b64})`
```
    В функцию передается хэш-таблица с типом map[string]interface{}.
```

- **Логирование логера:** `logger.WriteToStdOut()` - выводит loger в stdout в json формате.
```
loger.SendToLogService() - данный метод требуется описать самостоятельно (TODO)
```
